<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Login User</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
<body>
<div *ngIf="!isLoggedIn" class="container">
  <div class="d-flex justify-content-center">
      <form name="form"
      (ngSubmit)="onSubmit()"
      #f="ngForm" action="#" th:action="@{/api/auth/login}" th:object="${loginDTO}" method="post">
          <div class="form-group">
              <label for="emailF">Email address</label>
              <input name="username"
              [(ngModel)]="form.username"
              required
              #username="ngModel" type="email" class="form-control" id="emailF" aria-describedby="emailHelp" placeholder="Enter email">
              <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
          </div>
          <div class="form-group">
              <label for="passwordF">Password</label>
              <input name="password"
              [(ngModel)]="form.password"
              required
              minlength="6"
              #password="ngModel" type="password" th:field="*{password}" class="form-control" id="passwordF" placeholder="Password">
          </div>
          <div>
              <a href="/api/auth/reset">Forgot password</a>
          </div>
          <br/>
          <button type="submit" class="btn btn-primary">Log In</button>

      </form>
  </div>
  <br/>
  <br/>
  <br/>
  <div class="d-flex justify-content-center">
    <ul class="navbar-nav">
      <li class="nav-item active sp">
        <a href="/registration" role="button" class="btn btn-secondary btn-block lf">Registration</a>
      </li>
    </ul>
  </div>
</div>
<div class="container" *ngIf="isLoggedIn">
  <app-home-page></app-home-page>
</div>

<router-outlet></router-outlet>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>
